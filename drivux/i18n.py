"""Internationalization support for Drivux."""

import locale

TRANSLATIONS = {
    "en": {
        "services": "Services",
        "service": "Service",
        "status": "Status",
        "folder": "Folder",
        "pid": "PID",
        "actions": "Actions",
        "active": "Active",
        "inactive": "Inactive",
        "error": "Error",
        "refresh": "Refresh",
        "settings": "Settings",
        "start": "Start",
        "stop": "Stop",
        "restart": "Restart",
        "restart_all": "Restart all",
        "open_drivux": "Open Drivux",
        "quit": "Quit",
        "all_ok": "All OK",
        "error_detected": "Error detected",
        "filter": "Filter",
        "filter_placeholder": "e.g. error, download, sync...",
        "clear": "Clear",
        "save": "Save",
        "save_restart": "Save & Restart",
        "cancel": "Cancel",
        "config_saved": "Configuration saved.",
        "services_restarted": "Services restarted.",
        "save_error": "Unable to save:",
        "add_parameter": "Add parameter",
        "key": "key",
        "value": "value",
        "configuration": "Configuration",
        "name": "Name",
        "config_path": "Config",
        "stopped": "stopped",
        "ok": "OK",
        "personal": "personal",
        "no_service": "No onedrive service detected.",
    },
    "fr": {
        "services": "Services",
        "service": "Service",
        "status": "Statut",
        "folder": "Dossier",
        "pid": "PID",
        "actions": "Actions",
        "active": "Actif",
        "inactive": "Inactif",
        "error": "Erreur",
        "refresh": "Actualiser",
        "settings": "Parametres",
        "start": "Demarrer",
        "stop": "Stop",
        "restart": "Redemarrer",
        "restart_all": "Tout redemarrer",
        "open_drivux": "Ouvrir Drivux",
        "quit": "Quitter",
        "all_ok": "Tout est OK",
        "error_detected": "Erreur detectee",
        "filter": "Filtre",
        "filter_placeholder": "ex: error, download, sync...",
        "clear": "Effacer",
        "save": "Sauvegarder",
        "save_restart": "Sauvegarder && Redemarrer",
        "cancel": "Annuler",
        "config_saved": "Configuration sauvegardee.",
        "services_restarted": "Services redemarres.",
        "save_error": "Impossible de sauvegarder:",
        "add_parameter": "Ajouter un parametre",
        "key": "cle",
        "value": "valeur",
        "configuration": "Configuration",
        "name": "Nom",
        "config_path": "Config",
        "stopped": "arrete",
        "ok": "OK",
        "personal": "perso",
        "no_service": "Aucun service onedrive detecte.",
    },
    "de": {
        "services": "Dienste",
        "service": "Dienst",
        "status": "Status",
        "folder": "Ordner",
        "pid": "PID",
        "actions": "Aktionen",
        "active": "Aktiv",
        "inactive": "Inaktiv",
        "error": "Fehler",
        "refresh": "Aktualisieren",
        "settings": "Einstellungen",
        "start": "Starten",
        "stop": "Stoppen",
        "restart": "Neustarten",
        "restart_all": "Alle neustarten",
        "open_drivux": "Drivux offnen",
        "quit": "Beenden",
        "all_ok": "Alles OK",
        "error_detected": "Fehler erkannt",
        "filter": "Filter",
        "filter_placeholder": "z.B. error, download, sync...",
        "clear": "Loschen",
        "save": "Speichern",
        "save_restart": "Speichern && Neustarten",
        "cancel": "Abbrechen",
        "config_saved": "Konfiguration gespeichert.",
        "services_restarted": "Dienste neugestartet.",
        "save_error": "Speichern nicht moglich:",
        "add_parameter": "Parameter hinzufugen",
        "key": "Schlussel",
        "value": "Wert",
        "configuration": "Konfiguration",
        "name": "Name",
        "config_path": "Konfig",
        "stopped": "gestoppt",
        "ok": "OK",
        "personal": "Personlich",
        "no_service": "Kein OneDrive-Dienst erkannt.",
    },
    "es": {
        "services": "Servicios",
        "service": "Servicio",
        "status": "Estado",
        "folder": "Carpeta",
        "pid": "PID",
        "actions": "Acciones",
        "active": "Activo",
        "inactive": "Inactivo",
        "error": "Error",
        "refresh": "Actualizar",
        "settings": "Configuracion",
        "start": "Iniciar",
        "stop": "Detener",
        "restart": "Reiniciar",
        "restart_all": "Reiniciar todo",
        "open_drivux": "Abrir Drivux",
        "quit": "Salir",
        "all_ok": "Todo OK",
        "error_detected": "Error detectado",
        "filter": "Filtro",
        "filter_placeholder": "ej: error, download, sync...",
        "clear": "Limpiar",
        "save": "Guardar",
        "save_restart": "Guardar && Reiniciar",
        "cancel": "Cancelar",
        "config_saved": "Configuracion guardada.",
        "services_restarted": "Servicios reiniciados.",
        "save_error": "No se pudo guardar:",
        "add_parameter": "Agregar parametro",
        "key": "clave",
        "value": "valor",
        "configuration": "Configuracion",
        "name": "Nombre",
        "config_path": "Config",
        "stopped": "detenido",
        "ok": "OK",
        "personal": "personal",
        "no_service": "Ningun servicio OneDrive detectado.",
    },
    "pt": {
        "services": "Servicos",
        "service": "Servico",
        "status": "Status",
        "folder": "Pasta",
        "pid": "PID",
        "actions": "Acoes",
        "active": "Ativo",
        "inactive": "Inativo",
        "error": "Erro",
        "refresh": "Atualizar",
        "settings": "Configuracoes",
        "start": "Iniciar",
        "stop": "Parar",
        "restart": "Reiniciar",
        "restart_all": "Reiniciar tudo",
        "open_drivux": "Abrir Drivux",
        "quit": "Sair",
        "all_ok": "Tudo OK",
        "error_detected": "Erro detectado",
        "filter": "Filtro",
        "filter_placeholder": "ex: error, download, sync...",
        "clear": "Limpar",
        "save": "Salvar",
        "save_restart": "Salvar && Reiniciar",
        "cancel": "Cancelar",
        "config_saved": "Configuracao salva.",
        "services_restarted": "Servicos reiniciados.",
        "save_error": "Nao foi possivel salvar:",
        "add_parameter": "Adicionar parametro",
        "key": "chave",
        "value": "valor",
        "configuration": "Configuracao",
        "name": "Nome",
        "config_path": "Config",
        "stopped": "parado",
        "ok": "OK",
        "personal": "pessoal",
        "no_service": "Nenhum servico OneDrive detectado.",
    },
    "ru": {
        "services": "Сервисы",
        "service": "Сервис",
        "status": "Статус",
        "folder": "Папка",
        "pid": "PID",
        "actions": "Действия",
        "active": "Активен",
        "inactive": "Неактивен",
        "error": "Ошибка",
        "refresh": "Обновить",
        "settings": "Настройки",
        "start": "Запустить",
        "stop": "Остановить",
        "restart": "Перезапустить",
        "restart_all": "Перезапустить все",
        "open_drivux": "Открыть Drivux",
        "quit": "Выход",
        "all_ok": "Все ОК",
        "error_detected": "Обнаружена ошибка",
        "filter": "Фильтр",
        "filter_placeholder": "напр: error, download, sync...",
        "clear": "Очистить",
        "save": "Сохранить",
        "save_restart": "Сохранить и перезапустить",
        "cancel": "Отмена",
        "config_saved": "Конфигурация сохранена.",
        "services_restarted": "Сервисы перезапущены.",
        "save_error": "Не удалось сохранить:",
        "add_parameter": "Добавить параметр",
        "key": "ключ",
        "value": "значение",
        "configuration": "Конфигурация",
        "name": "Имя",
        "config_path": "Конфиг",
        "stopped": "остановлен",
        "ok": "ОК",
        "personal": "личный",
        "no_service": "Сервис OneDrive не обнаружен.",
    },
    "zh": {
        "services": "服务",
        "service": "服务",
        "status": "状态",
        "folder": "文件夹",
        "pid": "PID",
        "actions": "操作",
        "active": "运行中",
        "inactive": "已停止",
        "error": "错误",
        "refresh": "刷新",
        "settings": "设置",
        "start": "启动",
        "stop": "停止",
        "restart": "重启",
        "restart_all": "全部重启",
        "open_drivux": "打开 Drivux",
        "quit": "退出",
        "all_ok": "一切正常",
        "error_detected": "检测到错误",
        "filter": "过滤",
        "filter_placeholder": "例如: error, download, sync...",
        "clear": "清除",
        "save": "保存",
        "save_restart": "保存并重启",
        "cancel": "取消",
        "config_saved": "配置已保存。",
        "services_restarted": "服务已重启。",
        "save_error": "无法保存：",
        "add_parameter": "添加参数",
        "key": "键",
        "value": "值",
        "configuration": "配置",
        "name": "名称",
        "config_path": "配置文件",
        "stopped": "已停止",
        "ok": "正常",
        "personal": "个人",
        "no_service": "未检测到 OneDrive 服务。",
    },
    "ja": {
        "services": "サービス",
        "service": "サービス",
        "status": "状態",
        "folder": "フォルダ",
        "pid": "PID",
        "actions": "操作",
        "active": "稼働中",
        "inactive": "停止中",
        "error": "エラー",
        "refresh": "更新",
        "settings": "設定",
        "start": "開始",
        "stop": "停止",
        "restart": "再起動",
        "restart_all": "すべて再起動",
        "open_drivux": "Drivux を開く",
        "quit": "終了",
        "all_ok": "すべて正常",
        "error_detected": "エラーを検出",
        "filter": "フィルタ",
        "filter_placeholder": "例: error, download, sync...",
        "clear": "クリア",
        "save": "保存",
        "save_restart": "保存して再起動",
        "cancel": "キャンセル",
        "config_saved": "設定を保存しました。",
        "services_restarted": "サービスを再起動しました。",
        "save_error": "保存できません：",
        "add_parameter": "パラメータを追加",
        "key": "キー",
        "value": "値",
        "configuration": "設定",
        "name": "名前",
        "config_path": "設定ファイル",
        "stopped": "停止",
        "ok": "OK",
        "personal": "個人",
        "no_service": "OneDrive サービスが見つかりません。",
    },
    "hi": {
        "services": "सेवाएं",
        "service": "सेवा",
        "status": "स्थिति",
        "folder": "फ़ोल्डर",
        "pid": "PID",
        "actions": "कार्रवाई",
        "active": "सक्रिय",
        "inactive": "निष्क्रिय",
        "error": "त्रुटि",
        "refresh": "रीफ़्रेश",
        "settings": "सेटिंग्स",
        "start": "शुरू करें",
        "stop": "रोकें",
        "restart": "पुनः आरंभ",
        "restart_all": "सभी पुनः आरंभ",
        "open_drivux": "Drivux खोलें",
        "quit": "बंद करें",
        "all_ok": "सब ठीक है",
        "error_detected": "त्रुटि पाई गई",
        "filter": "फ़िल्टर",
        "filter_placeholder": "जैसे: error, download, sync...",
        "clear": "साफ़ करें",
        "save": "सहेजें",
        "save_restart": "सहेजें और पुनः आरंभ",
        "cancel": "रद्द करें",
        "config_saved": "कॉन्फ़िगरेशन सहेजा गया।",
        "services_restarted": "सेवाएं पुनः आरंभ की गईं।",
        "save_error": "सहेजा नहीं जा सका:",
        "add_parameter": "पैरामीटर जोड़ें",
        "key": "कुंजी",
        "value": "मान",
        "configuration": "कॉन्फ़िगरेशन",
        "name": "नाम",
        "config_path": "कॉन्फ़िग",
        "stopped": "रुका हुआ",
        "ok": "ठीक",
        "personal": "व्यक्तिगत",
        "no_service": "कोई OneDrive सेवा नहीं मिली।",
    },
    "ko": {
        "services": "서비스",
        "service": "서비스",
        "status": "상태",
        "folder": "폴더",
        "pid": "PID",
        "actions": "작업",
        "active": "활성",
        "inactive": "비활성",
        "error": "오류",
        "refresh": "새로고침",
        "settings": "설정",
        "start": "시작",
        "stop": "중지",
        "restart": "재시작",
        "restart_all": "모두 재시작",
        "open_drivux": "Drivux 열기",
        "quit": "종료",
        "all_ok": "모두 정상",
        "error_detected": "오류 감지됨",
        "filter": "필터",
        "filter_placeholder": "예: error, download, sync...",
        "clear": "지우기",
        "save": "저장",
        "save_restart": "저장 후 재시작",
        "cancel": "취소",
        "config_saved": "설정이 저장되었습니다.",
        "services_restarted": "서비스가 재시작되었습니다.",
        "save_error": "저장할 수 없습니다:",
        "add_parameter": "매개변수 추가",
        "key": "키",
        "value": "값",
        "configuration": "설정",
        "name": "이름",
        "config_path": "설정 파일",
        "stopped": "중지됨",
        "ok": "정상",
        "personal": "개인",
        "no_service": "OneDrive 서비스를 찾을 수 없습니다.",
    },
    "ar": {
        "services": "الخدمات",
        "service": "الخدمة",
        "status": "الحالة",
        "folder": "المجلد",
        "pid": "PID",
        "actions": "الإجراءات",
        "active": "نشط",
        "inactive": "غير نشط",
        "error": "خطأ",
        "refresh": "تحديث",
        "settings": "الإعدادات",
        "start": "بدء",
        "stop": "إيقاف",
        "restart": "إعادة تشغيل",
        "restart_all": "إعادة تشغيل الكل",
        "open_drivux": "فتح Drivux",
        "quit": "خروج",
        "all_ok": "الكل يعمل",
        "error_detected": "تم اكتشاف خطأ",
        "filter": "تصفية",
        "filter_placeholder": "مثال: error, download, sync...",
        "clear": "مسح",
        "save": "حفظ",
        "save_restart": "حفظ وإعادة التشغيل",
        "cancel": "إلغاء",
        "config_saved": "تم حفظ الإعدادات.",
        "services_restarted": "تمت إعادة تشغيل الخدمات.",
        "save_error": "تعذر الحفظ:",
        "add_parameter": "إضافة معلمة",
        "key": "مفتاح",
        "value": "قيمة",
        "configuration": "الإعدادات",
        "name": "الاسم",
        "config_path": "ملف الإعدادات",
        "stopped": "متوقف",
        "ok": "حسنا",
        "personal": "شخصي",
        "no_service": "لم يتم العثور على خدمة OneDrive.",
    },
}

_current_lang = "en"


def detect_language() -> str:
    """Detect system language from locale."""
    try:
        lang = locale.getdefaultlocale()[0] or "en"
        lang = lang.split("_")[0].lower()
        if lang in TRANSLATIONS:
            return lang
    except Exception:
        pass
    return "en"


def set_language(lang: str) -> None:
    global _current_lang
    if lang in TRANSLATIONS:
        _current_lang = lang


def get_language() -> str:
    return _current_lang


def t(key: str) -> str:
    """Get translated string for current language."""
    return TRANSLATIONS.get(_current_lang, TRANSLATIONS["en"]).get(
        key, TRANSLATIONS["en"].get(key, key)
    )


# Auto-detect on import
_current_lang = detect_language()
